{"remainingRequest":"E:\\我的站点\\Vue实战\\vue_shop\\node_modules\\babel-loader\\lib\\index.js!E:\\我的站点\\Vue实战\\vue_shop\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\我的站点\\Vue实战\\vue_shop\\src\\router\\index.js","dependencies":[{"path":"E:\\我的站点\\Vue实战\\vue_shop\\src\\router\\index.js","mtime":1596291840803},{"path":"E:\\我的站点\\Vue实战\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595827407394},{"path":"E:\\我的站点\\Vue实战\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1595827404638},{"path":"E:\\我的站点\\Vue实战\\vue_shop\\node_modules\\eslint-loader\\index.js","mtime":1595827415024}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgSG9tZSBmcm9tICcuLi9jb21wb25lbnRzL0hvbWUudnVlJzsKaW1wb3J0IFdlbGNvbWUgZnJvbSAnLi4vY29tcG9uZW50cy9XZWxjb21lLnZ1ZSc7CmltcG9ydCBVc2VycyBmcm9tICcuLi9jb21wb25lbnRzL3VzZXIvVXNlcnMudnVlJzsKaW1wb3J0IFJpZ2h0cyBmcm9tICcuLi9jb21wb25lbnRzL3Bvd2VyL1JpZ2h0cy52dWUnOwppbXBvcnQgUm9sZXMgZnJvbSAnLi4vY29tcG9uZW50cy9wb3dlci9Sb2xlcy52dWUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICByZWRpcmVjdDogJy9sb2dpbicKICB9LCB7CiAgICBwYXRoOiAnL2xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4KICB9LCB7CiAgICBwYXRoOiAnL2hvbWUnLAogICAgY29tcG9uZW50OiBIb21lLAogICAgcmVkaXJlY3Q6ICcvd2VsY29tZScsCiAgICBjaGlsZHJlbjogW3sKICAgICAgcGF0aDogJy93ZWxjb21lJywKICAgICAgY29tcG9uZW50OiBXZWxjb21lCiAgICB9LCB7CiAgICAgIHBhdGg6ICcvdXNlcnMnLAogICAgICBjb21wb25lbnQ6IFVzZXJzCiAgICB9LCB7CiAgICAgIHBhdGg6ICcvcmlnaHRzJywKICAgICAgY29tcG9uZW50OiBSaWdodHMKICAgIH0sIHsKICAgICAgcGF0aDogJy9yb2xlcycsCiAgICAgIGNvbXBvbmVudDogUm9sZXMKICAgIH1dCiAgfV0KfSk7CnZhciBvcmlnaW5hbFB1c2ggPSBWdWVSb3V0ZXIucHJvdG90eXBlLnB1c2g7CgpWdWVSb3V0ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7CiAgcmV0dXJuIG9yaWdpbmFsUHVzaC5jYWxsKHRoaXMsIGxvY2F0aW9uKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICByZXR1cm4gZXJyOwogIH0pOwp9OyAvLyDmjILovb3ot6/nlLHlr7zoiKrlrojljasKCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAvLyB0b+Wwhuimgeiuv+mXrueahOi3r+W+hAogIC8vIGZyb23ku6Pooajku47lk6rkuKrot6/lvoTot7Povazov4fmnaUKICAvLyBuZXh0IOaYr+S4gOS4quWHveaVsO+8jOihqOekuuaUvuihjO+8jOS4pOenjeihqOi+vuaWueW8j25leHQoKSBuZXh0KCd1cmwnKSDlvLrliLbot7PovaznmoTpobXpnaIKICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicpIHJldHVybiBuZXh0KCk7IC8vIOiOt+WPlnRva2Vu5Yik5pat55So5oi35piv5ZCm5bey57uP55m75b2VCgogIHZhciB0b2tlblN0ciA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIGlmICghdG9rZW5TdHIpIHJldHVybiBuZXh0KCcvbG9naW4nKTsKICBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["E:/我的站点/Vue实战/vue_shop/src/router/index.js"],"names":["Vue","VueRouter","Login","Home","Welcome","Users","Rights","Roles","use","router","routes","path","redirect","component","children","originalPush","prototype","push","location","call","catch","err","beforeEach","to","from","next","tokenStr","window","sessionStorage","getItem"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,SAAR;AAEA,IAAMQ,MAAM,GAAG,IAAIR,SAAJ,CAAc;AAC3BS,EAAAA,MAAM,EAAE,CACN;AAAEC,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GADM,EAEN;AAAED,IAAAA,IAAI,EAAE,QAAR;AAAkBE,IAAAA,SAAS,EAAEX;AAA7B,GAFM,EAGN;AACES,IAAAA,IAAI,EAAE,OADR;AAEEE,IAAAA,SAAS,EAAEV,IAFb;AAGES,IAAAA,QAAQ,EAAE,UAHZ;AAIEE,IAAAA,QAAQ,EAAE,CACR;AACEH,MAAAA,IAAI,EAAE,UADR;AAEEE,MAAAA,SAAS,EAAET;AAFb,KADQ,EAKR;AACEO,MAAAA,IAAI,EAAE,QADR;AAEEE,MAAAA,SAAS,EAAER;AAFb,KALQ,EASR;AACEM,MAAAA,IAAI,EAAE,SADR;AAEEE,MAAAA,SAAS,EAAEP;AAFb,KATQ,EAaR;AACEK,MAAAA,IAAI,EAAE,QADR;AAEEE,MAAAA,SAAS,EAAEN;AAFb,KAbQ;AAJZ,GAHM;AADmB,CAAd,CAAf;AA6BA,IAAMQ,YAAY,GAAGd,SAAS,CAACe,SAAV,CAAoBC,IAAzC;;AACAhB,SAAS,CAACe,SAAV,CAAoBC,IAApB,GAA2B,SAASA,IAAT,CAAeC,QAAf,EAAyB;AAClD,SAAOH,YAAY,CAACI,IAAb,CAAkB,IAAlB,EAAwBD,QAAxB,EAAkCE,KAAlC,CAAwC,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAA3C,CAAP;AACD,CAFD,C,CAGA;;;AACAZ,MAAM,CAACa,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA;AACA;AACA,MAAIF,EAAE,CAACZ,IAAH,KAAY,QAAhB,EAA0B,OAAOc,IAAI,EAAX,CAJU,CAKpC;;AACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAjB;AACA,MAAI,CAACH,QAAL,EAAe,OAAOD,IAAI,CAAC,QAAD,CAAX;AACfA,EAAAA,IAAI;AACL,CATD;AAUA,eAAehB,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '../components/Login.vue'\r\nimport Home from '../components/Home.vue'\r\nimport Welcome from '../components/Welcome.vue'\r\nimport Users from '../components/user/Users.vue'\r\nimport Rights from '../components/power/Rights.vue'\r\nimport Roles from '../components/power/Roles.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n  routes: [\r\n    { path: '/', redirect: '/login' },\r\n    { path: '/login', component: Login },\r\n    {\r\n      path: '/home',\r\n      component: Home,\r\n      redirect: '/welcome',\r\n      children: [\r\n        {\r\n          path: '/welcome',\r\n          component: Welcome\r\n        },\r\n        {\r\n          path: '/users',\r\n          component: Users\r\n        },\r\n        {\r\n          path: '/rights',\r\n          component: Rights\r\n        },\r\n        {\r\n          path: '/roles',\r\n          component: Roles\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n})\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push (location) {\r\n  return originalPush.call(this, location).catch(err => err)\r\n}\r\n// 挂载路由导航守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  // to将要访问的路径\r\n  // from代表从哪个路径跳转过来\r\n  // next 是一个函数，表示放行，两种表达方式next() next('url') 强制跳转的页面\r\n  if (to.path === '/login') return next()\r\n  // 获取token判断用户是否已经登录\r\n  const tokenStr = window.sessionStorage.getItem('token')\r\n  if (!tokenStr) return next('/login')\r\n  next()\r\n})\r\nexport default router\r\n"]}]}